[链路层]: 负责相邻设备间的数据帧传输

[以太网协议数据帧]:
帧头:
  1. 48位源/目的MAC地址: 描述源/目的网卡的硬件地址, uint8_t[6]
  2. 上层协议类型: 描述描述上层协议类型(IP/ARP/RARP), 用于数据分用
帧文:
  1. 数据
  以太网数据帧中数据的大小范围一般为46~1500, 之所谓为46是由于在链路层中需要通过最少数据来
  进行冲突检测, 这个最小数据为64字节, 减去帧头帧尾的18字节大小, 数据的最小值为46字节
  MTU: 最大传输单元. 限制了上层封装之后的数据
帧尾:
  1. CRC校验和: 检验数据的一致性

[数据链路层的3个基本问题]:
1. 封装成帧:
  网络层传输的数据, 在链路层需要加上帧头和帧尾称为数据帧
2. 透明传输
  在进行网络传输的过程中, 数据帧的数据可能会与检验数据帧的起始和结束的首尾标记冲突,
  数据可能只接收了一部分
  透明传输就是在链路层中检查数据, 如果有与首尾标记冲突的数据, 在冲突数据之前插入符号
  标记, 来表明这是数据, 而不是首尾标记. 在接收方将符号删除.
3. 差错检测
  在进行网络传输的过程中, 数据帧是否完整需要进行CRC校验.
  它的原理判断帧检验序列, 先由数据与seq相除求余得到帧检验序列FCS,  将FCS封装到数据帧中,
  接收方将数据与FCS相除, 如果余数为0则代表数据正常, 如果余数不为0代表数据有差错

[链路层的两种信道]:
1. 点对点信道, 基于PPP协议, 两台主机之间进行直接通信
2. 广播信道, 基于CSMA/CD协议, 多台主机在同一局域网内进行通信
以太网就是基于广播信道的.

[CSMA/CD协议]:
载波监听与冲突检测的多路访问协议, 以太网可以说是基于CSMA/CD协议的局域网技术
1. 多路访问(多点接入): 
  多个主机在同一局域网内进行数据传输
2. 载波监听与冲突检测:
  在局域网内, 多个主机可能会同时发送数据到网络中, 可能会发生冲突.
  载波监听与冲突检测就是来解决数据冲突的问题
  一台主机在发送数据时, 先判断是否发生数据冲突, 如果在发送了一定的数据量之后没有检测到
  冲突, 那么说明数据发送是安全的, 这个数据量在100mb/s带宽下一般为64字节, 也就是说如果
  发送了64字节还没有检测到冲突, 那么数据就是安全的;
  如果发生数据冲突, 那么接收到冲突的主机会停止发送数据, 等待随机时间后再进行数据的发送.
  二进制指数退避算法: 
  max_wait=2^k, k代表重传的次数, k最大取值为10, 如果重传的次数超过16次了, 那么传送失败.
  wait = [1,maxwait]内的随机时间

[以太网的优化]:
1. 扩展以太网距离
  更换传输介质, 比如说使用光纤能够增加带宽
2. 扩展主机数量
以太网原先是多台主机连接在集线器上进行通信,
集线器:
集线器是一种广播信道, 在局域网中数据会发给每一台主机
因此集线器有很多缺陷: 共享网络带宽, 冲突率高, 半双工通信性能低
交换机:
交换机可以记录每个传输口的MAC地址, 模拟所谓的"点对点通信", 在局域网内将数据发送给指定的主机
交换机的优势: 独享网络带宽, 冲突率随着数据的传输逐渐减少, 全双工通信
(交换机发展之前还有一个叫做网桥的设备, 也是基于记录传输口的MAC地址, 
但是网桥是连接多台集线器, 通过网桥可以判断数据在哪一个局域网内, 因此会减少冲突)

[MTU对传输层的影响]:
  UDP: UDP在传输层封装数据报的时候, 数据的最大长度不受MTU的影响, 
  因此如果封装之后的数据报长度大于MTU, 那么会在网络层进行分片.
  分片会存在一定的危险, 如果任意分片丢失整个数据报会被丢弃, 分片越多, 危险越大
  TCP: TCP在传输层封装数据报的时候, 数据的最大长度受MTU的影响
  双方会根据MTU协商MSS, 因此封装后的数据报长度不会大于MTU
  从而也不会在网络层进行分片


